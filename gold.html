<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<title>Gold Bubble PRO â€” Ù…Ø­Ø§Ø³Ø¨Ù‡â€ŒÚ¯Ø± Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ Ø­Ø¨Ø§Ø¨ Ø·Ù„Ø§</title>

<style>
body {
    font-family: 'Tahoma';
    direction: rtl;
    background: linear-gradient(135deg, #ffd66e, #ffb84c);
    padding: 30px;
    margin: 0;
}

.wrapper {
    width: 420px;
    margin: auto;
    background: white;
    padding: 25px;
    border-radius: 20px;
    box-shadow: 0 0 25px rgba(0,0,0,0.2);
}

.title {
    font-size: 26px;
    font-weight: bold;
    text-align: center;
    margin-bottom: 15px;
    color: #333;
}

label {
    font-size: 16px;
    font-weight: bold;
}

input {
    width: 100%;
    padding: 12px;
    margin: 7px 0 15px 0;
    border-radius: 12px;
    border: 1px solid #888;
    font-size: 16px;
}

button {
    width: 100%;
    padding: 14px;
    background: #ff9800;
    border: none;
    color: white;
    font-size: 18px;
    border-radius: 12px;
    cursor: pointer;
    margin-top: 10px;
}

button:hover {
    background: #e58900;
}

.result {
    margin-top: 20px;
    padding: 20px;
    border-radius: 15px;
    background: #f8f8f8;
    font-size: 17px;
    line-height: 1.8;
}

.buy { color: green; font-weight: bold; }
.sell { color: red; font-weight: bold; }
.neutral { color: #333; font-weight: bold; }

.tip-box {
    margin-top: 20px;
    padding: 15px;
    background: #fff5d1;
    border-radius: 12px;
    border-right: 6px solid #ffc000;
    font-size: 15px;
    line-height: 1.7;
}

.chart-box {
    margin-top: 25px;
    background: #fff;
    padding: 15px;
    border-radius: 12px;
    box-shadow: inset 0 0 10px #ddd;
}

#chart {
    width: 100%;
    height: 120px;
    background: #f0f0f0;
    border-radius: 10px;
    position: relative;
}
</style>
</head>
<body>

<div class="wrapper">

<div class="title">ğŸ“Š Gold Bubble PRO</div>

<label>ğŸ’µ Ù‚ÛŒÙ…Øª Ø¯Ù„Ø§Ø± (ØªÙˆÙ…Ø§Ù†):</label>
<input id="usd" type="number" placeholder="Ù…Ø«Ø§Ù„: 125000">

<label>ğŸŸ¡ Ù‚ÛŒÙ…Øª Ø§ÙˆÙ†Ø³ Ø¬Ù‡Ø§Ù†ÛŒ (Ø¯Ù„Ø§Ø±):</label>
<input id="ounce" type="number" placeholder="Ù…Ø«Ø§Ù„: 4214">

<label>ğŸŸ¨ Ù‚ÛŒÙ…Øª Ø·Ù„Ø§ Û±Û¸ Ø¹ÛŒØ§Ø± (ØªÙˆÙ…Ø§Ù†):</label>
<input id="gold" type="number" placeholder="Ù…Ø«Ø§Ù„: 12679000">

<button onclick="calc()">ğŸ” Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ</button>

<div id="out" class="result">Ù†ØªÛŒØ¬Ù‡ Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø§ÛŒÙ†Ø¬Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯.</div>

<div class="chart-box">
    <div><b>Ù†Ù…ÙˆØ¯Ø§Ø± Ú©ÙˆÚ†Ú© ØªØºÛŒÛŒØ±Ø§Øª Ø­Ø¨Ø§Ø¨ (Û±Û° Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø§Ø®ÛŒØ±):</b></div>
    <div id="chart"></div>
</div>

<div class="tip-box">
    â­ <b>Ø¨Ù‡ØªØ±ÛŒÙ† Ø²Ù…Ø§Ù† Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø­Ø¨Ø§Ø¨ Ø·Ù„Ø§:</b><br>
    âœ” **Ø³Ø§Ø¹Øª Û´ ØªØ§ Ûµ:Û³Û° Ø¹ØµØ±** (Ø²Ù…Ø§Ù† Ø¨Ø³ØªÙ‡â€ŒØ´Ø¯Ù† Ø¨Ø§Ø²Ø§Ø± Ø§ÛŒØ±Ø§Ù†)<br>
    âœ” **Ø³Ø§Ø¹Øª Û¹:Û³Û° ØªØ§ Û±Û° Ø´Ø¨** (Ø«Ø¨Ø§Øª Ù†Ø³Ø¨ÛŒ Ø§ÙˆÙ†Ø³ Ø¬Ù‡Ø§Ù†ÛŒ)<br>
    âœ” ØµØ¨Ø­â€ŒÙ‡Ø§ Ù†ÙˆØ³Ø§Ù† Ø²ÛŒØ§Ø¯ Ø§Ø³Øªâ€”Ù†ØªÛŒØ¬Ù‡ Ø¯Ù‚ÛŒÙ‚ Ù†ÛŒØ³Øª<br>
    âœ” Ø¯Ø± Ø²Ù…Ø§Ù† Ø§Ø®Ø¨Ø§Ø± Ø¢Ù…Ø±ÛŒÚ©Ø§ (NFP, CPI, FOMC) Ø­Ø¨Ø§Ø¨ Ø¯Ù‚Øª Ù†Ø¯Ø§Ø±Ø¯  
</div>

</div>


<script>
// Ø°Ø®ÛŒØ±Ù‡ Û±Û° Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø¨Ø±Ø§ÛŒ Ù†Ù…ÙˆØ¯Ø§Ø±
let history = [];

function calc() {
    let usd = parseFloat(document.getElementById("usd").value);
    let ounce = parseFloat(document.getElementById("ounce").value);
    let goldMarket = parseFloat(document.getElementById("gold").value);
    let out = document.getElementById("out");

    if (!usd || !ounce || !goldMarket) {
        out.innerHTML = "âŒ Ù„Ø·ÙØ§Ù‹ Ù‡Ù…Ù‡ Ù…Ù‚Ø§Ø¯ÛŒØ± Ø±Ø§ Ú©Ø§Ù…Ù„ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯.";
        return;
    }

    let theoretical = ((ounce * usd * 0.999) / 31.1035) * 0.75;
    let bubble = goldMarket - theoretical;

    // ØªØ´Ø®ÛŒØµ Ø®Ø±ÛŒØ¯ ÛŒØ§ ÙØ±ÙˆØ´
    let status = "";
    if (bubble < -20000) status = "<span class='buy'>ğŸ’š Ø²Ù…Ø§Ù† Ø®Ø±ÛŒØ¯ (Ø­Ø¨Ø§Ø¨ Ù…Ù†ÙÛŒ)</span>";
    else if (bubble > 20000) status = "<span class='sell'>ğŸ’” Ø²Ù…Ø§Ù† ÙØ±ÙˆØ´ (Ø­Ø¨Ø§Ø¨ Ù…Ø«Ø¨Øª)</span>";
    else status = "<span class='neutral'>âš– Ù…ØªØ¹Ø§Ø¯Ù„</span>";

    out.innerHTML = `
        ğŸ“˜ Ù‚ÛŒÙ…Øª Ù†Ø¸Ø±ÛŒ Û±Û¸ Ø¹ÛŒØ§Ø±: ${Math.round(theoretical).toLocaleString()} ØªÙˆÙ…Ø§Ù†<br>
        ğŸ“™ Ù…Ù‚Ø¯Ø§Ø± Ø­Ø¨Ø§Ø¨: ${Math.round(bubble).toLocaleString()} ØªÙˆÙ…Ø§Ù†<br><br>
        Ù†ØªÛŒØ¬Ù‡: ${status}
    `;

    // Ø°Ø®ÛŒØ±Ù‡ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ø¨Ø±Ø§ÛŒ Ù†Ù…ÙˆØ¯Ø§Ø±
    if (history.length >= 10) history.shift();
    history.push(Math.round(bubble));

    drawChart();
}

// Ø±Ø³Ù… Ù†Ù…ÙˆØ¯Ø§Ø± Ø³Ø§Ø¯Ù‡
function drawChart() {
    let chart = document.getElementById("chart");
    chart.innerHTML = "";

    let max = Math.max(...history, 1);
    let min = Math.min(...history, -1);

    history.forEach(value => {
        let bar = document.createElement("div");
        bar.style.width = "8%";
        bar.style.height = (Math.abs(value) / Math.max(Math.abs(max), Math.abs(min)) * 100) + "%";
        bar.style.display = "inline-block";
        bar.style.margin = "0 1%";
        bar.style.verticalAlign = "bottom";
        bar.style.borderRadius = "5px";

        bar.style.background = value >= 0 ? "#ff4444" : "#00aa44";
        chart.appendChild(bar);
    });
}
</script>

</body>
</html>
